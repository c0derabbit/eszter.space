<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub CLI: create and manage PRs from the command line</title>
    <meta name="description" content="">
    <link rel="alternate" href="." type="application/atom+xml" title="">
    <link rel="alternate" href="." type="application/json" title="">
  </head>
  <body>
    <header>
      <h1><a href="/"></a></h1>
    </header>

    <main>
      <h1>GitHub CLI: create and manage PRs from the command line</h1>

<p>Recently released in beta, <a href="https://cli.github.com/">GitHub CLI</a> managed to integrate seamlessly in my workflow, like it‚Äôs always been there. As <a href="https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/git">oh-my-zsh‚Äôs git aliases</a>, they quickly became muscle memory.</p>
<p>Of course, there are two kinds of programmers: those who use a <a href="https://desktop.github.com/">desktop client for git</a>, and those who don‚Äôt[^1]. Vim being my editor of choice, you can probably guess which camp I‚Äôm in. Hearing that GitHub have released a tool <em>just for me</em> was music to my ears.</p>
<h3>What is it for?</h3>
<p>Mainly for managing pull requests and issues directly from the command line.</p>
<h3>How to get it</h3>
<p><code>brew install github/gh/gh</code></p>
<h2>Chechking PRs for code reviews: <code>gh pr view</code> and <code>gh pr checkout</code></h2>
<p>For a little bit of context, as a frontend developer, I like to always run pull requests locally, to make sure what I review works and looks fine (sure, QA can do that too, but let them catch the bugs that aren‚Äôt obvious.) So, reviewing a pull request involves reading the changes, checking out the branch, and running locally.</p>
<p>In a browser-based workflow, this looks something like the following:</p>
<ul>
<li>copy the branch name from <a href="http://github.com/org/repo/pull/123">github.com/org/repo/pull/123</a></li>
<li><code>git checkout the-pr-branch</code></li>
<li>oh, I forgot to pull, it‚Äôs not there yet. <code>git pull</code></li>
<li><code>git checkout the-pr-branch</code></li>
<li>run code.</li>
</ul>
<p>The same using the cli:</p>
<ul>
<li><code>gh pr list</code></li>
<li><code>gh pr checkout 123</code></li>
<li>run code.</li>
</ul>
<p>That‚Äôs my kind of workflow! ‚ö°Ô∏è</p>
<h4>This is what happens in a bit more detail:</h4>
<pre><code class="language-sh">$ gh pr list

Pull requests for some-org/some-repo

#123  Add some great feature  feat/cool-feature
#124  Fix nasty bug           fix/nasty-bug
</code></pre>
<p><code>gh pr list</code> shows me all the open pull requests in the current repo. All I need to do is choose which one I‚Äôm interested in.</p>
<p>Now comes the best part: <code>checkout</code> switches to the PR‚Äôs branch based on PR number.</p>
<pre><code class="language-sh">$ gh pr checkout 123

Switched to branch feat/cool-feature
Your branch is up-to-date with origin/feat/cool-feature.
</code></pre>
<p>I can also open the PR on <a href="http://github.com">github.com</a> right from the terminal (it opens the browser automatically):</p>
<pre><code class="language-sh">$ gh pr view 123

Opening https://github.com/some-org/some-repo/pull/123 in your browser.
</code></pre>
<h2>Opening pull requests: <code>gh pr create</code></h2>
<pre><code class="language-sh">$ gh pr create

Creating pull request for feat/cool-feature into master in some-org/some-repo
? Title ‚ñå
</code></pre>
<p>After filling title and body (the latter using your system editor[^2]), it will give you the option to preview, submit or cancle the pull request. Depending on the task, I usually preview and request reviews, but sometimes just submit.</p>
<pre><code class="language-sh">$ gh pr create

Creating pull request for feat/cool-feature into master in some-org/some-repo
? Title Fix nasty bug
? Body &lt;Received&gt;
? What's next?  [Use arrows to move, type to filter]
&gt; Preview in browser
  Submit
  Cancel
</code></pre>
<p>You can also open a <a href="https://github.blog/2019-02-14-introducing-draft-pull-requests/">draft pull request</a> by passing the <code>--draft</code> (or <code>-d</code>) flag: <code>gh pr create -d</code>.</p>
<h2>Useful for checks: <code>gh pr status</code></h2>
<p>You can check the overall PR status of a branch with <code>gh pr status</code>. This is not an overview though; it is branch-specific. So for the following output, you have to be on the same branch as the PR:</p>
<pre><code class="language-sh">$ gh pr status

Current branch
  #123  Add cool feature
    - Checks passing
  #124  Fix nasty bug
    - Checks passing

Created by you
  You have no open pull requests

Requesting a code review from you
  #123  Add cool feature
    - Checks passing - Review required
</code></pre>
<h2>Issues etc.</h2>
<p>You can list, view (open in browser) and open issues with the respective commands <code>gh issue list</code>, <code>gh issue view 10</code>, and <code>gh issue create</code>. They work very similarly to <code>pr</code>s.</p>
<p>And, just as I was checking the docs to fact-check what I‚Äôm writing, I‚Äôve discovered <a href="https://cli.github.com/manual/gh_repo">you can create a repo</a> with <code>gh repo create some-org/another-repo</code>. Not something I do on a daily basis, but I might even get to using it! On the other hand, <code>gh repo clone some-org/some-other-repo</code> is a much friendlier experience than either remembering the whole .git repo url syntax or visiting the repo and clicking clone.</p>
<h2>Overall? Lgtm.</h2>
<p>GitHub CLI is a simple, easy-to-use tool that‚Äôs also easy to love.</p>
<p><a href="https://cli.github.com/manual/">Be sure to check out the docs</a>, as there are a lot of useful options. Happy coding! üéâ</p>
<hr>
<h4>Notes</h4>
<p>[^1]: I admit this may be a very personal choice, and I have an opinionated‚Ä¶ opinion. That is, to understand git properly, and solve more complex issues, it‚Äôs better to use the command line. As the <a href="https://github.com/desktop/desktop/blob/development/docs/process/what-is-desktop.md#1-github-desktop-reduces-frustration-and-makes-git-and-github-workflows-more-approachable">desktop repo states</a>, <em>‚ÄúGitHub Desktop is not a replacement for the functionality of Git, but a tool to enable you and your team to be more productive.‚Äù</em>
[^2]: You can set this in <code>~/.bashrc</code> or <code>~/.bash_profile</code> or <code>~/.zshrc</code>, whichever you use, by adding <code>export EDITOR=vim</code> (or any other editor you like.)</p>


<hr>
<ul><li>Next: <a href="/hash-nav-spacing/">CSS tricks: respecting spacing in hash navigation</a></li><li>Previous: <a href="/wfh-tips/">Keeping a healthy work/life balance at home</a></li>
</ul>

    </main>

    <footer></footer>

    <!-- Current page: /gh-cli/ -->
  </body>
</html>
