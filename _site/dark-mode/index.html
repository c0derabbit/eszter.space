<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supporting dark mode on the web</title>
    <meta name="description" content="">
    <link rel="alternate" href="." type="application/atom+xml" title="">
    <link rel="alternate" href="." type="application/json" title="">
  </head>
  <body>
    <header>
      <h1><a href="/"></a></h1>
    </header>

    <main>
      <h1>Supporting dark mode on the web</h1>

<p>Dark mode is here to stay, and many websites, including <a href="https://duckduckgo.com/">DuckDuckGo</a>, Twitter and my personal favourite Gatsby, make sure they blend in seamlessly with the user’s UI preferences.</p>
<p>Some have offered their own dark mode before this could have been picked up fron the OS settings (for example, <a href="https://www.cryptocompare.com/">CryptoCompare</a> has a ‘Turn Lights On/Off’ switch in their footer).[^1]</p>
<p>But now, <a href="https://drafts.csswg.org/mediaqueries-5/#descdef-media-prefers-color-scheme">there’s a media query for that</a>.</p>
<pre><code class="language-css">@media (prefers-color-scheme: dark) {
  background: #222;
  color: #f0f0f0;
}
</code></pre>
<h3>What if I want to use this with <a href="https://www.styled-components.com/docs/advanced#theming">styled-components themes</a>?</h3>
<p>JavaScript can detect media queries with <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia">window.matchMedia</a>.</p>
<pre><code class="language-js">window.matchMedia('(prefers-color-scheme: dark)')
</code></pre>
<p>will return something like this:</p>
<pre><code class="language-js">MediaQueryList {
  media: &quot;(prefers-color-scheme: dark)&quot;,
  matches: true, // or false :)
  onchange: null
}
</code></pre>
<p>So, we can set our styled-components theme based on whether there’s a match.</p>
<p>If I did that right (and you have a modern-enough browser), my website should be matching your system preferences![^2]</p>
<hr>
<h4>Notes</h4>
<p>[^1]: I used to have one too, but one has to keep up with the changing times!</p>
<p>[^2]: Ps. you can still switch between light &amp; dark manually, and that will be remembered in <code>localStorage</code>.</p>


<hr>
<ul><li>Next: <a href="/antd-theming/">Customising Ant Design theme in a create-react-app project</a></li><li>Previous: <a href="/cv-opinion/">Iʼve reviewed lots of CVs recently. Hereʼs how to improve yours</a></li>
</ul>

    </main>

    <footer></footer>

    <!-- Current page: /dark-mode/ -->
  </body>
</html>
